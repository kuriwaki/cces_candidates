\documentclass[12pt]{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}

\usepackage{setspace}
\usepackage[margin = 1.1in]{geometry}
\usepackage{graphicx}
\usepackage{enumitem}
\usepackage{subcaption}
\usepackage{longtable}
\usepackage[hang,flushmargin]{footmisc} 


\usepackage{xcolor}
\definecolor{crimson}{RGB}{156,0,0}
\usepackage[bookmarks=false]{hyperref}
\hypersetup{
	colorlinks = true,
	linkcolor=black,   % color of internal links
	citecolor=black,   % color of links to bibliography
	urlcolor=crimson,    % color of external links
	bookmarksopen=false,
	pdfdisplaydoctitle=true
}
% \urlstyle{sf}

\usepackage{tabularx}
\usepackage{dcolumn}
\usepackage{rotating}
\usepackage{lipsum}
\usepackage{booktabs}
\usepackage{float} 
\usepackage{placeins} 
\usepackage{changepage}

% Fonts
\usepackage[T1]{fontenc}
% \usepackage{libertine}
% \usepackage{kpfonts}

% Other text shape
\usepackage[T1]{fontenc}
\usepackage[scaled=0.8]{beramono}

% Section headers
% Sectioning
\usepackage{titlesec}
\titleformat*{\section}{\large\bfseries}
\titleformat*{\subsection}{\normalsize\bfseries\itshape}


% Tables
\newcolumntype{C}{>{\centering\arraybackslash}X}

% Linespacing
\setlength\parskip{1em}
\setlength\parindent{0em}

% Caption
\usepackage[margin=30pt,font=small,labelfont=bf,
labelsep=endash]{caption}


% Codeblocks
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother


% Comments
\newcommand{\jkcomment}[1]{\textcolor{blue}{\textbf{JK: #1}}}
\newcommand{\skcomment}[1]{\textcolor{blue}{\textbf{SK: #1}}}

% Author setting
\usepackage{authblk}

\title{\large\textbf{Guide to the CCES Candidates Dataset}}

\author[1]{\normalsize Jaclyn Kaslovsky}
\author[2]{\normalsize Shiro Kuriwaki}
\author[2]{\normalsize James M. Snyder, Jr.}
\author[2]{\normalsize Stphen Ansolabehere}
\affil[1]{\footnotesize Center for the Study of Democratic Politics, Princeton University.}
\affil[2]{\footnotesize Department of Government, Harvard University.}


\date{\normalsize September 2020}
	

\begin{document}
\maketitle 


Between 2006-2018 alone, there were \input{Ns/all_dists}\unskip \ races for Congress and Governor in the general election, in which \input{Ns/all_cands}\unskip \ Democratic and Republican candiates ran for office. The CCES asked about all these choices. Many researchers use the CCES to analyze how a respondent evaluated a candidate in a race for Congress or Governor. The CCES data refers to such candidates by number, where \texttt{Cand1} and \texttt{Cand2}  for a given respondent \(i\) represents the two candidates who are contesting \(i\)'s seat, and the dataset records whether, for example, \(i\) reported voting for \texttt{Cand1} over \texttt{Cand2} even though the respondent sees the actual numbers while taking the survey.  


Now it is often tedious to immediately tell which candidate \texttt{Cand1} and \texttt{Cand2} refer to, without cross-checking with other columns in the data. Usually, candidate 1 is the Democrat and candidate 2 is the Republican, but there are some exceptions, and of course two respondents in different districts have different candidates, with different names, incumbency statuses, or ideology scores. Moreover, some of the reference variables in the Common Content, like \texttt{HouseCand1IncumbentNum}, contain errors.\footnote{For example in the 2014 Common Content, \texttt{HouseCand1IncumbentNum} for respondents in WA-05 are miscoded. Cathy McMorris Rodgers was the incumbent, not Joseph Pakootas. Additionally, 4 out of 127 respondents in \texttt{IL-03} (Lipinski, D) have a missing \texttt{HouseCand1IncumbentNum} value.}

\noindent Here we provide two datasets to facilitate and form the basis of such analyses:
\begin{enumerate}
\item A \textbf{candidate level} dataset: Includes new data such as incumbency, general election vote, party, and the election result, from Jim Snyder's historical candidate level datasets. There is one row for every candidate in each election they ran in. 
\item A CCES \textbf{respondent level} dataset then provides a linkage between a constituent and the candidates who are running in that district. There is one row per candidate reference, e.g. if there are $N$ voters voting for three offices (House, Senate, Governor), and each race consists of three candidates (Democrat, Republican, Third party), then the dataset will contain $3\times3\times N$ rows.
\end{enumerate}


\section{Examples, Unique Identifiers, and Counts}

The respondent-level data is formatted as in Table \ref{tab:rdataexample}.

\begin{table}[!h]
\caption{\textbf{Example of Respondent Data Format} \label{tab:rdataexample}}
\begin{adjustwidth}{-1cm}{-1cm}
\footnotesize
\input{Tables/example_rows}
\end{adjustwidth}
\end{table}


Each \texttt{year} $\times$ \texttt{case\_id} combination uniquely defines a respondent. Use these two variables to merge back to the cumulative common content. 

In addition, use the \texttt{office} $\times$ \texttt{cand} variables to uniquely define a candidate for a given respondent. For example, in Table \ref{tab:rdataexample} we see that there are six rows for case ID \texttt{304099877} in the 2016 CCES: two candidates for three offices (House, Senate, and Governor).  In all three cases, \texttt{cand == 1} is the Democrat and \texttt{cand == 2} is the Republican.

Candidates run at the level of districts. Therefore, when merging respondents with candidates, it is sufficient to merge on \texttt{office} $\times$ \texttt{state} $\times$ \texttt{dist} $\times$ \texttt{name\_snyder}. \jkcomment{Should we still say this even though we took out st and dist from the respondent-level dataset?} We use full name instead of party to distinguish candidates because party or last name is not sufficient: in rare occasions, candidates of the same party do contest the same seat and it is sometimes ambiguous what constitutes the last name of a candidate.

The candidate-level dataset shares the same values of the respondent-level data, but is more compact because there is only one row per candidate, as shown in Table \ref{tab:cdataexample}.

\begin{table}[!h]
\caption{\textbf{Example of Candidate Data Format} \label{tab:cdataexample}}
\centering
\footnotesize
\input{Tables/example_candidates}
\end{table}


Please note there are two versions of respondent-level datasets, for pre-election and post-election. The even-year CCES has a pre-election wave, which could start as early as October, and a post-election wave, which can occur as late as mid-November. Starting from 2010, the CCES started distinguishing the candidates between pre and post waves, in case the voter moved districts before and after the election or the candidates changed.
 

Users should pick the dataset that is relevant for the question of interest. For example, pre-election vote intent questions are asked among pre-election respondents and post-election vote choice questions are asked among post-election respondents. A few (about a less than 1 percent) of respondents change their state district sometime between the pre and post waves, so the candidates can differ in such instances.  

In the subsequent tabulations, we only show the pre-election wave numbers for simplicity.

Table \ref{tab:counts} summarizes the number of unique respondents and the number of rows.

\begin{table}[!h]
\caption{\textbf{Summary of Counts} \label{tab:counts}}
\begin{tabularx}{\linewidth}{CC}
    Pre-Election Wave & Post-Election Wave\\
    \input{Tables/counts_pre} & 
    \input{Tables/counts_post}\\
\multicolumn{2}{r}{\footnotesize Note: 2006 and 2008 post-waves did not re-ask location, so they would be identical to the pre-waves.}
\end{tabularx}
\end{table}


\section{Data Sources}

The \emph{respondent-level data} is an intermediate output of the creation of the Cumulative CCES Dataset, available on Dataverse \url{https://doi.org/10.7910/DVN/II2DB6}.


The \emph{candidate-level data} is a subset of the data collected by James M. Snyder. Vote counts and candidate listings of Congress are entered from the House Clerk's Official Election Reports, at \url{https://history.house.gov/Institution/Election-Statistics/}.  Election results for the state office of Governor are collected from statements of votes by each state's Secretary of State.  Incumbency is collected by a manual inspection of the candidate's biography. 


\FloatBarrier

\clearpage

\section{Usage Example: Merging to the CCES}

Below is example R code of how to use the candidate data in conjunction with other CCES data. This answers the following question: are voters in the racial minority more likely to vote for the losing candidate? \href{https://doi.org/10.1017/S0003055409090078}{Hajnal (2009)} showed that this was the case and raised issues with representation.

This code
\vspace{-0.5em}
\begin{enumerate}\setlength\itemsep{-0.2em}
\item Loads the data: CCES cumulative, candidate data (respondent-level), candidate data (candidate-level)
\item Slims it down to necessary covariates
\item Limits to contested races
\item Merge the candidates information on victory into the Cumulative Common Content
\item Analyze the relationship between voter race and candidate victory
\end{enumerate}
 
\input{Rcode/race-won_R}
\begin{center}
\begin{tabularx}{0.4\linewidth}{rCCC}
\toprule
Year & White & Black & Hispanic\\
\midrule
2006 & 0.58 & 0.71 & 0.58\\
2008 & 0.58 & 0.64 & 0.63\\
2010 & 0.60 & 0.52 & 0.59\\
2012 & 0.58 & 0.70 & 0.62\\
2014 & 0.60 & 0.52 & 0.61\\
2016 & 0.59 & 0.57 & 0.61\\
2018 & 0.60 & 0.63 & 0.62\\
\bottomrule
\end{tabularx}
\end{center}



\clearpage

\section{Variable Descriptions}

\subsection{Respondent Level Variables}

	
\begin{itemize}
\item \colorbox{yellow}{\texttt{case\_id}}:  Case (i.e. respondent) identifier

\begin{center}
\input{Tables/case_id}
\end{center}

\item  \colorbox{yellow}{\texttt{year}}: CCES year

\item \colorbox{yellow}{\texttt{dataset}}: The source of CCES data. Most of the time this will be the Common Content, which we denote with simply the year, so \texttt{year == dataset}. There are two exceptions. \texttt{2012p} refers to the 2012 Panel Study. \texttt{2018c} is the Competitive District Study of 2018, separate from the Common Content.

\item \texttt{st}: State Abbreviation

\item \texttt{dist}: Congressional district number for current Congress. 

\item \texttt{dist\_up}: Congressional district number for upcoming Congress. This variable will differ from \texttt{dist} when the respondent has been redistricted. As a result, this variable is most commonly different from \texttt{dist} in 2012 after the new districts from the decennial census went into effect. 
\end{itemize}

\subsection{Candidate Variables}

\begin{itemize}[leftmargin=*]

\item \colorbox{yellow}{\texttt{office}}: The office the candidate is running for. Following the Snyder data, we use \texttt{H} for the US House of Representatives, \texttt{S} for the US Senate, and \texttt{G} for Governor. 

    \begin{tabularx}{\linewidth}{CC}
    Respondents & Candidates\\
    \input{Tables/office_by-resp} & 
    \input{Tables/office_by-cand}
    \end{tabularx}
			

\item \colorbox{yellow}{\texttt{cand}}: Candidate number for respondent. This variable tells the user whether the candidate is candidate number 1, 2, or 3 in order to match to other variables included in the CCES, such as \texttt{HouseCand1\_Gender}, for example.

\begin{center}
\input{Tables/cand_by-resp}
\end{center}


\item \texttt{name\_snyder}: Standardized candidate name from James Snyder.  The syntax is \texttt{[Last name], [First Name] [Middle name] ([Nickname]), [Jr/Sr/I/II/III]}.  Some examples of names are below, to give a sense of the syntax.

\begin{itemize}
	\item[] \texttt{SEWELL, TERRYCINA ANDREA (TERRI)}: commonly known as Terri Sewell (AL)
	\item[] \texttt{GRASSLEY, CHARLES ERNEST (CHUCK)}: commonly known as Chuck Grassley (IA)
	\item[] \texttt{CORNYN, JOHN, III}: commonly known as John Cornyn (TX)
	\item[] \texttt{KENNEDY, JOSEPH P. (JOE), III}: commonly known as Joe Kennedy (MA)
	\item[] \texttt{WASSERMAN SCHULTZ, DEBBIE}: note the last name is not hyphenated and is two words
\end{itemize}

In order to make names comparable across years, Snyder uses the full name, i.e. spelling out middle names, as much as possible and goes beyond what is printed on the ballot or the House Clerk document.

\item \texttt{party}: The party affiliation of the candidate. We use the ``short'' or colloquial party name. For example, the Democrat-Farmer-Labor Party in Minnesota is given a \texttt{D} instead of \texttt{DFL}. Candidates who ran on third party tickets in Connecticut and New York are simply given the major party name.   %\skcomment{Note I use the "short party", not the technical party, so DFL is a D and fusion D candidates are also D. }

%\skcomment{We should make names consistent with the respondent-level and candidate level dataset. If the short party name is called \texttt{party} in the candidate level dataset, it should also be called that in the candidate's dataset.}


\begin{tabularx}{\linewidth}{C}
  Respondents\\
  \input{Tables/party_by-resp}\\\addlinespace
  Candidates\\
  \input{Tables/party_by-cand}
\end{tabularx}

\item \texttt{party\_formal} The formal party names, for example DFL in Minnesota. Third party candidate names follow what is given in the House Clerk Document. 

\item \texttt{inc}: Candidate incumbency status. A 0 means the candidate is not an incumbent, a 1 means the candidate is an incumbent, and a 2 means the candidate is an incumbent that was elected in a special election. 
\begin{itemize}
\item This may differ from the CCES incumbency variable in some redistricting cases when two incumbents were forced to run against each other. For example, in 2012 Betty Sutton (OH-13) and Jim Renacci (OH-16), both House incumbents, were forced to run in OH-16. While the CCES incumbency variable (HouseCandIncumbent) lists only Sutton as the incumbent, this dataset will list both Sutton and Renacci as incumbents. This is why we include the variable  \texttt{current\_inc} below.  
\end{itemize}

    \begin{tabularx}{\linewidth}{CC}
    Respondents & Candidates\\
    \input{Tables/inc_by-resp} & 
    \input{Tables/inc_by-cand}
    \end{tabularx}

\item \texttt{current\_inc}: Candidate incumbency status for that specific respondent. A 0 means the candidate is not the respondent's current representative, a 1 means the candidate is the respondent's current representative. A candidate could be an incumbent in the district but the not the respondent's current representative if the respondent was redistricted. This variable is only included for respondents with \texttt{inc=1}.

			
			
\item \texttt{candidatevotes}: The number of total votes the candidate received. 
\begin{itemize}
\item For candidates running on multiple party tickets, this will be the \emph{sum} of all of their votes.  For example, in 2016, Rep. Rosa L. DeLauro (CT-03) ran as a Democrat and also ran as a Working Families Party candidate. She won 192,274 votes in the former and 21,298 votes in the latter, so her \texttt{candidatevotes} is the total, 213,572.
\item  Florida does not report the vote count for a House candidate if she is unopposed. In these case, we have the vote count as \texttt{NA} but have the candidate winning (\texttt{w\_g == 1}).
\end{itemize}
%\skcomment{Maybe we call this \texttt{candidatevotes}?  That is consistent with MEDSL's naming system, and I think a lot of people now use MEDSL.}
				

\item \texttt{totalvotes}: Total votes for all candidates in the general election included in Jim Snyder's data

\item \texttt{won}: Candidate won the general election (0/1)
%\skcomment{Maybe we call this \texttt{won}? Unlike Jim's, there is no general vs. primary distinction.}


\item \texttt{data\_note}: 145 candidates were not included in the election dataset we used to collect the candidate-level variables. We still include these candidates in the supplemental data in case researchers are interested in specific districts or races. The reason for these non-merges can be broken down into four categories, listed below.
		\begin{enumerate}
			\item Incorrect Election: Candidates with this code  did not run in the respondent's district or state. This likely occurs because the respondent's information was incorrectly entered. 
			\item Not on General Election Ballot: Candidates with this code either withdrew from the race, were disqualified, were write-in candidates, did not make it to the included runoff election, or did not receive enough votes to appear on the ballot. 
			\item Unopposed in Oklahoma: In Oklahoma, unopposed candidates do not appear on the general election ballot. 
			\item Missing from election data: Candidates with this code were not included in the data we used to merge in the election information. Often times this category is made up of candidates in races with jungle primaries, such as Louisiana. This also includes all candidates from Washington D.C.. 
		\end{enumerate}
\end{itemize}
	




\section{Extensions to Candidate Gender and Race}
	
Our dataset does not contain information about the candidate's gender or race. We may add to the dataset in future versions, but in the meantime there are several related data sources users can rely on.

Numerous years in the CCES have data available on candidate race and gender for interested researchers. Please see the table below for further information regarding the availability of such information by year and where it can be located. 

\begin{table}[H]
	\footnotesize
	\centering
	\caption{The Availability of Candidate Race and Gender Data by Year}
\begin{tabularx}{0.7\linewidth}{lXX}
	\toprule
	CCES   & Candidate Race &Candidate Gender \\
	\midrule
	2006&  &\\
	2008&Variables for H, S, G & Variables for H, S, G  \\
	2010 &  Supplemental Data for H$^1$  &  Variables for H, S, G\\
	2012&Supplemental Data for H$^2$ & Variables for H and S \\
	2014& Supplemental Data for H$^3$ &\\% Variables for H and S \\[2ex]
	2016&Supplemental Data for H, S$^4$  & \\%Variables for current H and S  \\[2ex]
	2018&  &Variables for current H post \\
	\bottomrule
\end{tabularx}
\caption*{\footnotesize Note that the 2013 common content also includes the gender of House members.}
\bigskip

%\skcomment{I commented out "for current.." because that's not what the column says. I also delted the odd year rows and used booktabs for table formatting}

\footnotesize
\singlespacing
		1. \url{https://doi.org/10.7910/DVN/KC9EQR} \\
		2. \url{https://doi.org/10.7910/DVN/NI3BDE} \\
		3. \url{https://doi.org/10.7910/DVN/D1N0GO} \\
		4. \url{https://doi.org/10.7910/DVN/IAOZOU}\\
\end{table}

Note that some of this data has been aggregated in the Cumulative Contextual File, located here: \url{https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/26451&version=5.0&widget=dataverse@cces}.


\section{Merging to Other Datasets}

ICPSR

DIME






\section{Version History}

\begin{itemize}
\item Dataverse 1.0: Initial Release, \skcomment{Enter date of dataverse upload here}.
\end{itemize}	
	
\end{document}

